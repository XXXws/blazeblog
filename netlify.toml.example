# {{RIPER-5: Action: Created | Task: #5c7c16e9-f7ed-4de3-84a9-9df6ebd305be | Time: 2025-07-13T14:30:00+08:00 | Reason: Hugo版本配置统一 - 创建Netlify部署配置示例文件 | Principle: 配置模板化原则 - 提供标准化部署配置 | Architecture_Note: [AR] 标准Netlify部署配置，支持Hugo 0.147.9 | Memory_Reference: [mcp.memory] 应用Netlify部署最佳实践 | Quality_Check: [LD] 部署配置模板完整，版本统一}}

[build]
  publish = "public"
  command = "npm run build"

[build.environment]
  HUGO_VERSION = "0.147.9"
  NODE_VERSION = "18"
  HUGO_ENV = "production"
  HUGO_ENABLEGITINFO = "true"

[context.production.environment]
  HUGO_ENV = "production"
  HUGO_ENABLEGITINFO = "true"

[context.split1]
  command = "npm run build"

[context.split1.environment]
  HUGO_ENV = "production"

[context.deploy-preview]
  command = "npm run build"

[context.deploy-preview.environment]
  HUGO_ENV = "production"

[context.branch-deploy]
  command = "npm run build"

[context.branch-deploy.environment]
  HUGO_ENV = "production"

# Headers for security and performance
[[headers]]
  for = "/*"
  [headers.values]
    X-Frame-Options = "DENY"
    X-XSS-Protection = "1; mode=block"
    X-Content-Type-Options = "nosniff"
    Referrer-Policy = "strict-origin-when-cross-origin"

# Cache static assets
[[headers]]
  for = "/css/*"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"

[[headers]]
  for = "/js/*"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"

[[headers]]
  for = "/images/*"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"

# Redirects
[[redirects]]
  from = "/index.xml"
  to = "/feed.xml"
  status = 301

# Form handling (if needed)
# [[redirects]]
#   from = "/contact"
#   to = "/contact-success"
#   status = 200
#   conditions = {Role = ["admin"], Country = ["US"]}
